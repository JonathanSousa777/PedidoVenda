<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets" >

    <h:head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <title><ui:insert name="titulo">Sistema de Pedidos de Venda</ui:insert></title>

        <h:outputStylesheet library="css" name="sistema.css" />
        <h:outputScript library="js" name="jquery.maskMoney.js" />
    </h:head>
    <h:body>
        <p:ajaxStatus styleClass="ajax-status" onsuccess="configurarMoeda()">
            <f:facet name="start">
                <h:graphicImage library="images" name="carregando.gif" />
            </f:facet>
            <f:facet name="complete">
                <h:outputText value=""/>
            </f:facet>
        </p:ajaxStatus>

        <header>
            <div>
                <h:link style="float: left;" outcome="/Home">
                    <h:graphicImage library="images" name="logo-algaworks.png" />
                </h:link>
            </div>
            <div style="float: right; margin-right: 110px">
                <span style="float: left; height: 30px; line-height: 30px; margin-right: 60px">
                    Olá Usuário!
                </span>

                <h:form style="display: inline-block">
                    <p:menubar styleClass="menu-sistema">
                        <p:submenu label="Cadastros">
                            <p:menuitem value="Clientes" outcome="/pesquisas/PesquisaCliente" icon="fa fa-users"/>
                            <p:menuitem value="Usuários" outcome="/pesquisas/PesquisaUsuario"  icon="fa fa-user"/>
                            <p:separator/>
                            <p:menuitem value="Categorias"  icon="fa fa-th-list"/>
                            <p:menuitem value="Produtos" outcome="/pesquisas/PesquisaProduto" icon="fa fa-suitcase" />
                        </p:submenu>
                        <p:submenu label="Pedidos">
                            <p:menuitem value="Novo pedido" outcome="/pedidos/CadastroPedido" icon="fa fa-cart-plus"/>
                            <p:menuitem value="Pesquisa" outcome="/pedidos/PesquisaPedido" icon="fa fa-search"/>
                        </p:submenu>
                    </p:menubar>
                </h:form>
            </div>
            <div style="clear: both;" />
        </header>

        <div id="conteudo">
            <ui:insert name="corpo" />
        </div>

        <p:separator style="margin-top: 20px;"/>

        <footer>
            Desenvolvimento de softwares automatizados InfoSolution
            <a href="#" target="_blank">www.infosolution.com</a>
        </footer>

        <script>
            function configurarMoeda() {
                $(".moeda").maskMoney({
                    decimal: ",", thousands: ".", allowZero: true
                });
            }

            $(document).ready(function () {
                configurarMoeda();
            });
        </script>
    </h:body>
</html>
